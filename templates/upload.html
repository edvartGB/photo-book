{% extends "base.html" %}
{% block title %}Upload - Photo Book{% endblock %}

{% block content %}

<form method="POST" enctype="multipart/form-data" action="{{ url_for('upload') }}" class="upload-form" id="upload-form">
    <div class="drop-zone" id="drop-zone">
        <p>u can drop your photos here</p>
        <input type="file" name="photos" id="file-input" multiple accept="image/*,video/quicktime,.mov" hidden>
        <input type="file" id="folder-input" webkitdirectory hidden>
    </div>
    <div class="upload-buttons">
        <button type="button" id="browse-files-btn">Select files</button>
        <button type="button" id="browse-folder-btn">Select folder</button>
    </div>

    <div class="upload-fields">
        <input type="text" name="caption" placeholder="Caption (optional)">
        <select name="album_id" id="album-select">
            <option value="">No album</option>
            {% for album in albums %}
            <option value="{{ album['id'] }}">{{ album['name'] }}</option>
            {% endfor %}
            <option value="__new__">+ Make a new album</option>
        </select>
        <input type="text" name="new_album_name" id="new-album-input" placeholder="Album name" class="new-album-input" hidden>
        <label class="hide-feed-label"><input type="checkbox" name="hidden" value="1" id="hidden-check"> Hide from feed</label>
        <button type="submit" id="upload-btn" disabled>Upload</button>
    </div>

    <div id="preview" class="upload-preview"></div>
</form>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='upload.js') }}"></script>
{% endblock %}
